{
  "format_version": "1.21.130",
  "minecraft:entity": {
    "description": {
      "identifier": "{{PROJECT_NAME}}:defense_core",
      "is_spawnable": true,
      "is_summonable": true,
      "scripts": {
        "animate": [
          "controller.animation.{{PROJECT_NAME}}.core_setup"
        ]
      }
    },
    "components": {
      "minecraft:health": {
        "value": {{CORE_HEALTH}},
        "max": {{CORE_HEALTH}}
      },
      "minecraft:type_family": {
        "family": [ "defense_core", "inanimate" ]
      },
      "minecraft:collision_box": {
        "width": 1.0,
        "height": 1.0
      },
      "minecraft:knockback_resistance": {
        "value": 1
      },
      "minecraft:timer": {
        "time": {{SPAWN_DELAY}},
        "looping": true,
        "time_down_event": {
          "event": "event:spawn_attacker",
          "target": "self"
        }
      },
      "minecraft:physics": {
        "has_gravity": true,
        "has_collision": true
      }
    },
    "events": {
      "event:spawn_attacker": {
        "queue_command": {
          "command": [
            "execute at @s run summon {{PROJECT_NAME}}:attacker_mob ~ ~ ~",
            "execute at @s run spreadplayers ~ ~ 5 {{SPAWN_RADIUS}} @e[type={{PROJECT_NAME}}:attacker_mob,r=3,c=1]"
          ]
        }
      }
    }
  }
}
